{# Utilisatin du modèle de page "base.html.twig" #}
{% extends 'base.html.twig' %}

{# Titre de la page #}
{% block title %}Accueil{% endblock %}

{# Contenu de la page #}
{% block body %}

        <div class="container-fluid">

            {# Titre h1 #}
            <div class="row">
                <h1 class="col-12 text-center my-5">{{ site_name }}</h1>
            </div>

            {# Contenus lorem ipsum pour habiller un peu l'accueil #}
            <div class="row">
                <h2 class="text-center col-12 my-4">Lorem ipsum dolor sit amet.</h2>
                <p class="col-12 col-md-10 offset-md-1 text-center">Lorem ipsum dolor sit amet consectetur adipisicing elit. Provident veritatis distinctio ut, ipsum nobis consequatur unde voluptate voluptatem. Ut dignissimos, doloremque excepturi esse doloribus consequuntur dolor iusto. Ut, dolores quia perferendis dicta voluptatum qui sed tempora mollitia repudiandae. Quaerat, fugiat!</p>
            </div>

            {# Affichage d'une cover de Batman #}
            <div class="row my-5 batman-cover"></div>

            {# Affichage des derniers articles publié #}
            <div class="row">
                <div class="col-12 col-md-8 offset-md-2">

                    {# Titre h2 #}
                    <div class="row">
                        <h2 class="col-12 text-center">Dernières publications</h2>
                    </div>

                    {% for article in articles %}

                        {# Article #}
                        <div class="row">
                            <div class="col-12">
                                <div class="card my-3 bg-black article-card">

                                    {# Titre de l'article #}
                                    <div class="card-header">
                                        <a href="{{ path('blog_publication_view', {slug: article.slug}) }}"><i class="far fa-newspaper me-2"></i>{{ article.title }}</a>
                                    </div>

                                    {# Contenu de l'article #}
                                    <div class="card-body">
                                        <div class="blockquote mb-0">
                                            <p class="mb-4">{{ article.content|striptags|slice(0, 150) }}...<a href="{{ path('blog_publication_view', {slug: article.slug}) }}">Lire la suite</a></p>
                                        </div>
                                    </div>

                                    {# Affichage de l'auteur et de la date de publication #}
                                    <footer class="blockquote-footer">Publié le <strong>{{ article.publicationDate|date('d/m/Y à H\\hi') }}</strong> par <strong>{{ article.author.pseudonym }}</strong></footer>

                                </div>
                            </div>
                        </div>

                    {% else %}

                        <div class="row">
                            <p class=" col-12 text-center alert alert-warning">Aucune publication à afficher</p>
                        </div>

                    {% endfor %}

                </div>
            </div>

            <div class="row mb-5">
                <h2 class="text-center col-12 my-4">Lorem ipsum dolor sit amet consectetur adipisicing elit. Delectus, itaque!</h2>
                <p class="col-12 col-md-10 offset-md-1 text-center mb-5"></p>
            </div>

        </div>
{% endblock %}

{% block css %}
        <style>
            .batman-cover{
                background-image: url('{{ asset('/images/batman-cover.png') }}');
                background-attachment: fixed;
                background-size: cover;
                height: 400px;
            }
        </style>
{% endblock %}
